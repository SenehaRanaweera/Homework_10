{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 400,
  "height": 150,
  "data": {
    "url": "../data/Complaints By Providers.csv",  
  "format": {
    "type": "csv"
  }
  },
  "params": [
    {
      "name": "Provider_selection",
      "bind": {
        "input": "select",
        "options": [
          null,
          "Aussie Broadband Limited",
          "Dodo Services Pty Ltd",
          "Optus Group",
          "Southern Phone Company Ltd",
          "TPG Group",
          "Tangerine Telecom Pty Ltd",
          "Telstra",
          "Uniti Retail Pty Ltd",
          "Vodafone Australia Limited",
          "iiNet Ltd"
        ],
        "labels": [
          "Show All",
          "Aussie Broadband Limited",
          "Dodo Services Pty Ltd",
          "Optus Group",
          "Southern Phone Company Ltd",
          "TPG Group",
          "Tangerine Telecom Pty Ltd",
          "Telstra",
          "Uniti Retail Pty Ltd",
          "Vodafone Australia Limited",
          "iiNet Ltd"
        ],
        "name": "Providers Selection: "
      }
      
    }
  ],
  "transform": [
    {
      "filter": "Provider_selection == null || datum.Provider == Provider_selection"
    }
  ],
  "mark": {
  "type": "bar",
  "tooltip": true
},
  "encoding": {
    "x": {
      "field": "Complaints",
      "type": "quantitative",
      "title": "Number of Complaints"
    },
    "y": {
      "field": "Year",
      "type": "ordinal",
      "title": "Year"
    },
    "color": {
      "field": "Provider",
      "type": "nominal",
      "title": "Telecommunication Providers",
      "scale": {
        "scheme": "category20"
        
      }
    },
    "tooltip": [
      {"field": "Provider", "type": "nominal", "title": "Provider"},
      {"field": "Year", "type": "ordinal", "title": "Year"},
      {"field": "Complaints", "type": "quantitative", "title": "Complaints", "format":","},
      {"field": "2023-24 % of Total", "type": "quantitative", "format": ".1f", "title": "2023-24% of Total"}
    ]
  },
  "config": {
    "view": {
      "stroke": "transparent"
    },
    "axis": {
      "grid": true
    }
  }
}
